#include "httpserver.hpp"


void respond(HTTPRequest *req, HTTPResponse *ron, Client *cli){
    if (req -> url == "/index.html"){
        ron -> status = 200;
        ron -> content = "<!DOCTYPE html>\r\n<html>Hello, monseuir!</html>\r\n";
        ron -> keepAlive = false;
        ron -> contentType = "text/html";
    }
    else{
        ron -> status = 404;
        ron -> content = "You suck. Next time, don't show your face, you ugly brute.\r\n";
        ron -> keepAlive = false;
    }
}

int main(){
    HTTPServer http(5801, &respond, 3); // They allow 5800-5810 for our stuff, we'll send everything over the one port. 5801 is just to avoid weird potential bugs.
    while (1){
        http.run();
    }
}
